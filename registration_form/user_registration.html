<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
</head>

<body>
  
    <h1>Registration Form</h1>
    <form>
        <fieldset>
            <legend>Registration Form</legend>
            <label>
                Your name
                <input name="name" type="text" required />
            </label>
            <button type="submit">OK</button>
        </fieldset>
    </form>

    <section>
        <h2>Registered Users</h2>
        <ul></ul>
    </section>

    <script>
        const input = document.querySelector('input')
        const form = document.querySelector('form')
        const okButton = document.querySelector('button[type="submit"]')
        const list = document.querySelector('ul')

        const handleInput = () => {
            if (!input.checkValidity()) return;

            else {
                form.addEventListener('submit', (event) => {
                    event.preventDefault();
                })

                createDeleteButton(createListItem())

                input.value = ''
            }
        }

        const createListItem = () => {
            const listItem = document.createElement('li')
            list.appendChild(listItem)
            listItem.innerText = input.value
            return listItem
        }

        const createDeleteButton = (listItem) => {
            const deleteButton = document.createElement('button')
            listItem.appendChild(deleteButton)
            deleteButton.innerText = "delete"
            deleteButton.addEventListener('click', () => removeItemList(listItem))
        }

        const removeItemList = (listItem) => listItem.remove();

        okButton.addEventListener('click', () => handleInput());
    </script>
  
</body>

</html>
